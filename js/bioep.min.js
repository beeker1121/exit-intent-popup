let bioEp={bgEl:{},popupEl:{},closeBtnEl:{},shown:!1,overflowDefault:"visible",transformDefault:"",id:"1",width:400,height:220,html:"",css:"",fonts:[],delay:5,showOnDelay:!1,cookieExp:30,showOncePerSession:!1,onPopup:null,cookieManager:{create:function(t,e,i,o){var s="";if(o)s="; expires=0";else if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3),s="; expires="+n.toGMTString()}document.cookie=t+"="+e+s+"; path=/"},get:function(t){for(var e=t+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var s=i[o];" "==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(e))return s.substring(e.length,s.length)}return null},erase:function(t){this.create(t,"",-1)}},checkCookie:function(){return this.cookieExp<=0?!(!this.showOncePerSession||"true"!=this.cookieManager.get("bioep_shown_session_"+this.id))||(this.cookieManager.erase("bioep_shown_"+this.id),!1):"true"==this.cookieManager.get("bioep_shown_"+this.id)},addCSS:function(){for(var t=0;t<this.fonts.length;t++){var e=document.createElement("link");e.href=this.fonts[t],e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)}var i=document.createTextNode("#bio_ep_bg_"+this.id+" {display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; opacity: 0.3; z-index: 100101;}#bio_ep_"+this.id+" {display: none; position: fixed; width: "+this.width+"px; height: "+this.height+"px; font-family: 'Titillium Web', sans-serif; font-size: 16px; left: 50%; top: 50%; transform: translateX(-50%) translateY(-50%); -webkit-transform: translateX(-50%) translateY(-50%); -ms-transform: translateX(-50%) translateY(-50%); background-color: #fff; box-shadow: 0px 1px 4px 0 rgba(0,0,0,0.5); z-index: 100102;}#bio_ep_close_"+this.id+" {position: absolute; left: 100%; margin: -8px 0 0 -12px; width: 20px; height: 20px; color: #fff; font-size: 12px; font-weight: bold; text-align: center; border-radius: 50%; background-color: #5c5c5c; cursor: pointer; line-height: 20px;}"+this.css),o=document.createElement("style");o.appendChild(i);var s=document.head.firstElementChild;document.head.insertBefore(o,s)},addPopup:function(){this.bgEl=document.createElement("div"),this.bgEl.id="bio_ep_bg_"+this.id,document.body.appendChild(this.bgEl),document.getElementById("bio_ep_"+this.id)?this.popupEl=document.getElementById("bio_ep_"+this.id):(this.popupEl=document.createElement("div"),this.popupEl.id="bio_ep_"+this.id,this.popupEl.innerHTML=this.html,document.body.appendChild(this.popupEl)),document.getElementById("bio_ep_close_"+this.id)?this.closeBtnEl=document.getElementById("bio_ep_close_"+this.id):(this.closeBtnEl=document.createElement("div"),this.closeBtnEl.id="bio_ep_close_"+this.id,this.closeBtnEl.appendChild(document.createTextNode("X")),this.popupEl.insertBefore(this.closeBtnEl,this.popupEl.firstChild))},showPopup:function(){this.shown||(this.bgEl.style.display="block",this.popupEl.style.display="block",this.scalePopup(),this.overflowDefault=document.body.style.overflow,document.body.style.overflow="hidden",this.shown=!0,this.cookieManager.create("bioep_shown_"+this.id,"true",this.cookieExp,!1),this.cookieManager.create("bioep_shown_session_"+this.id,"true",0,!0),"function"==typeof this.onPopup&&this.onPopup())},hidePopup:function(){this.bgEl.style.display="none",this.popupEl.style.display="none",document.body.style.overflow=this.overflowDefault},scalePopup:function(){var t=40,e=40,i=this.popupEl.offsetWidth,o=this.popupEl.offsetHeight,s=window.innerWidth,n=window.innerHeight,h={width:0,height:0},d=i/o;i>s-t&&(h.width=s-t,h.height=h.width/d,h.height>n-e&&(h.height=n-e,h.width=h.height*d)),0===h.height&&o>n-e&&(h.height=n-e,h.width=h.height*d);var l=h.width/i;(l<=0||l>1)&&(l=1),""===this.transformDefault&&(this.transformDefault=window.getComputedStyle(this.popupEl,null).getPropertyValue("transform")),this.popupEl.style.transform=this.transformDefault+" scale("+l+")"},addEvent:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},loadEvents:function(){let t=this;this.addEvent(document,"mouseout",function(e){if("input"!=(e=e||window.event).target.tagName.toLowerCase()){var i=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(!(e.clientX>=i-50))if(!(e.clientY>=50))e.relatedTarget||e.toElement||t.showPopup()}}.bind(this)),this.addEvent(this.closeBtnEl,"click",function(){t.hidePopup()}),this.addEvent(window,"resize",function(){t.scalePopup()})},setOptions:function(t){this.id=void 0===t.id?this.id:t.id,this.width=void 0===t.width?this.width:t.width,this.height=void 0===t.height?this.height:t.height,this.html=void 0===t.html?this.html:t.html,this.css=void 0===t.css?this.css:t.css,this.fonts=void 0===t.fonts?this.fonts:t.fonts,this.delay=void 0===t.delay?this.delay:t.delay,this.showOnDelay=void 0===t.showOnDelay?this.showOnDelay:t.showOnDelay,this.cookieExp=void 0===t.cookieExp?this.cookieExp:t.cookieExp,this.showOncePerSession=void 0===t.showOncePerSession?this.showOncePerSession:t.showOncePerSession,this.onPopup=void 0===t.onPopup?this.onPopup:t.onPopup},domReady:function(t){"interactive"===document.readyState||"complete"===document.readyState?t():this.addEvent(document,"DOMContentLoaded",t)},init:function(t){let e=this;void 0!==t&&this.setOptions(t),this.addCSS(),this.domReady(function(){e.checkCookie()||(e.addPopup(),setTimeout(function(){e.loadEvents(),e.showOnDelay&&e.showPopup()},1e3*e.delay))})}};